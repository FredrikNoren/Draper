if("function"!=typeof Blob||"undefined"==typeof URL)if("function"==typeof Blob&&"undefined"!=typeof webkitURL)self.URL=webkitURL;else var Blob=function(e){"use strict";var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},i=n.prototype,o=r.prototype,s=e.FileReaderSync,a=function(e){this.code=this[this.name=e]},u="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=u.length,l=e.URL||e.webkitURL||e,p=l.createObjectURL,f=l.revokeObjectURL,h=l,d=e.btoa,g=e.atob,m=e.ArrayBuffer,v=e.Uint8Array;for(r.fake=o.fake=!0;c--;)a.prototype[u[c]]=c+1;return l.createObjectURL||(h=e.URL={}),h.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof r?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):d?t+";base64,"+d(e.data):t+","+encodeURIComponent(e.data)):p?p.call(l,e):void 0},h.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&f&&f.call(l,e)},i.append=function(e){var n=this.data;if(v&&(e instanceof m||e instanceof v)){for(var i="",o=new v(e),u=0,c=o.length;c>u;u++)i+=String.fromCharCode(o[u]);n.push(i)}else if("Blob"===t(e)||"File"===t(e)){if(!s)throw new a("NOT_READABLE_ERR");var l=new s;n.push(l.readAsBinaryString(e))}else e instanceof r?"base64"===e.encoding&&g?n.push(g(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,n){var i=arguments.length;return 3>i&&(n=null),new r(this.data.slice(e,i>1?t:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},n}(e);return function(e,n){var r=n?n.type||"":"",i=new t;if(e)for(var o=0,s=e.length;s>o;o++)i.append(e[o]);return i.getBlob(r)}}(self);var saveAs=saveAs||navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=e.URL||e.webkitURL||e,i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o=!e.externalHost&&"download"in i,s=function(n){var r=t.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)},a=e.webkitRequestFileSystem,u=e.requestFileSystem||a||e.mozRequestFileSystem,c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",p=0,f=[],h=function(){for(var e=f.length;e--;){var t=f[e];"string"==typeof t?r.revokeObjectURL(t):t.remove()}f.length=0},d=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(o){c(o)}}},g=function(t,r){var c,h,g,m=this,v=t.type,y=!1,b=function(){var e=n().createObjectURL(t);return f.push(e),e},w=function(){d(m,"writestart progress write writeend".split(" "))},x=function(){(y||!c)&&(c=b(t)),h?h.location.href=c:window.open(c,"_blank"),m.readyState=m.DONE,w()},k=function(e){return function(){return m.readyState!==m.DONE?e.apply(this,arguments):void 0}},T={create:!0,exclusive:!1};return m.readyState=m.INIT,r||(r="download"),o?(c=b(t),i.href=c,i.download=r,s(i),m.readyState=m.DONE,w(),void 0):(e.chrome&&v&&v!==l&&(g=t.slice||t.webkitSlice,t=g.call(t,0,t.size,l),y=!0),a&&"download"!==r&&(r+=".download"),(v===l||a)&&(h=e),u?(p+=t.size,u(e.TEMPORARY,p,k(function(e){e.root.getDirectory("saved",T,k(function(e){var n=function(){e.getFile(r,T,k(function(e){e.createWriter(k(function(n){n.onwriteend=function(t){h.location.href=e.toURL(),f.push(e),m.readyState=m.DONE,d(m,"writeend",t)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=m["on"+e]}),n.write(t),m.abort=function(){n.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),x)}),x)};e.getFile(r,{create:!1},k(function(e){e.remove(),n()}),k(function(e){e.code===e.NOT_FOUND_ERR?n():x()}))}),x)}),x),void 0):(x(),void 0))},m=g.prototype,v=function(e,t){return new g(e,t)};return m.abort=function(){var e=this;e.readyState=e.DONE,d(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,e.addEventListener("unload",h,!1),v}(self);