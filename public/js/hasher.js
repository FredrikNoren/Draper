!function(){var e=function(e){var t=function(t){function r(e){return String(e||"").replace(/[\\.+*?\^$\[\](){}\/'#]/g,"\\$&")}function o(e){if(!e)return"";var t=new RegExp("^"+r(d.prependHash)+"|"+r(d.appendHash)+"$","g");return e.replace(t,"")}function n(){var e=k.exec(d.getURL());return e&&e[1]?decodeURIComponent(e[1]):""}function i(){return m?m.contentWindow.frameHash:null}function s(){m=w.createElement("iframe"),m.src="about:blank",m.style.display="none",w.body.appendChild(m)}function a(){if(m&&f!==i()){var e=m.contentWindow.document;e.open(),e.write("<html><head><title>"+w.title+'</title><script type="text/javascript">var frameHash="'+f+'";</script></head><body>&nbsp;</body></html>'),e.close()}}function p(e,t){if(f!==e){var r=f;f=e,R&&(t?m.contentWindow.frameHash=e:a()),d.changed.dispatch(o(e),o(r))}}function c(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,r)}function h(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r)}function u(e){e=Array.prototype.slice.call(arguments);var t=e.join(d.separator);return t=t?d.prependHash+t.replace(P,"")+d.appendHash:t}function l(e){return e=encodeURI(e),j&&_&&(e=e.replace(/\?/,"%3F")),e}var d,f,g,y,m,v,b=25,w=t.document,A=(t.history,e.Signal),k=/#(.*)$/,x=/(\?.*)|(\#.*)/,P=/^\#/,j=!1,M="onhashchange"in t&&7!==w.documentMode,R=j&&!M,_="file:"===location.protocol;return v=R?function(){var e=n(),t=i();t!==f&&t!==e?d.setHash(o(t)):e!==f&&p(e)}:function(){var e=n();e!==f&&p(e)},d={VERSION:"1.1.4",appendHash:"",prependHash:"/",separator:"/",changed:new A,stopped:new A,initialized:new A,init:function(){y||(f=n(),M?c(t,"hashchange",v):(R&&(m||s(),a()),g=setInterval(v,b)),y=!0,d.initialized.dispatch(o(f)))},stop:function(){y&&(M?h(t,"hashchange",v):(clearInterval(g),g=null),y=!1,d.stopped.dispatch(o(f)))},isActive:function(){return y},getURL:function(){return t.location.href},getBaseURL:function(){return d.getURL().replace(x,"")},setHash:function(e){e=u.apply(null,arguments),e!==f&&(p(e),e===f&&(t.location.hash="#"+l(e)))},replaceHash:function(e){e=u.apply(null,arguments),e!==f&&(p(e,!0),e===f&&t.location.replace("#"+l(e)))},getHash:function(){return o(f)},getHashAsArray:function(){return d.getHash().split(d.separator)},dispose:function(){d.stop(),d.initialized.dispose(),d.stopped.dispose(),d.changed.dispose(),m=d=t.hasher=null},toString:function(){return'[hasher version="'+d.VERSION+'" hash="'+d.getHash()+'"]'}},d.initialized.memorize=!0,d}(window);return t};"function"==typeof define&&define.amd?define(["signals"],e):"object"==typeof exports?module.exports=e(require("signals")):window.hasher=e(window.signals)}();