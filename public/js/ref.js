var RefViewModel=function(e){var t=this;this.node=ko.observable(),this.boxDisplayX=ko.computed(function(){return t.node()?t.node().x():0}),this.boxDisplayY=ko.computed(function(){return t.node()?t.node().y():0}),this.name=e.name,this.displayName=this.name,this.isLocalTag=0==this.name.indexOf("tag: refs/tags/"),this.isRemoteTag=0==this.name.indexOf("remote-tag: refs/tags/"),this.isTag=this.isLocalTag||this.isRemoteTag,this.isLocalHEAD="HEAD"==this.name,this.isRemoteHEAD="refs/remotes/origin/HEAD"==this.name,this.isLocalBranch=0==this.name.indexOf("refs/heads/"),this.isRemoteBranch=0==this.name.indexOf("refs/remotes/origin/")&&!this.isRemoteHEAD,this.isHEAD=this.isLocalHEAD||this.isRemoteHEAD,this.isBranch=this.isLocalBranch||this.isRemoteBranch,this.isRemote=this.isRemoteBranch||this.isRemoteTag,this.isLocal=this.isLocalBranch||this.isLocalTag,this.isLocalBranch&&(this.displayName=this.name.slice("refs/heads/".length)),this.isRemoteBranch&&(this.displayName=this.name.slice("refs/remotes/origin/".length)),this.isLocalTag&&(this.displayName=this.name.slice("tag: refs/tags/".length)),this.isRemoteTag&&(this.displayName=this.name.slice("remote-tag: refs/tags/".length)),this.show=!0,this.graph=e.graph,this.remoteRef=ko.observable(),this.localRef=ko.observable(),this.current=ko.computed(function(){return t.isLocalBranch&&t.graph.activeBranch()==t.displayName}),this.canBePushed=ko.computed(function(){return t.isLocal&&t.graph.hasRemotes()?t.remoteRef()?t.node()!=t.remoteRef().node():!0:!1}),this.color=e.color,this.remoteIsAncestor=ko.computed(function(){return t.remoteRef()?t.node().isAncestor(t.remoteRef().node()):!1}),this.remoteIsOffspring=ko.computed(function(){return t.remoteRef()?t.remoteRef().node().isAncestor(t.node()):!1})};"undefined"!=typeof exports&&(exports.RefViewModel=RefViewModel),RefViewModel.prototype.dragStart=function(){this.graph.draggingRef(this)},RefViewModel.prototype.dragEnd=function(){this.graph.draggingRef(null)};